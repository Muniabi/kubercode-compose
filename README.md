# üöÄ Kubercode Compose

<div align="center">
  <img src="https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white" alt="Docker">
  <img src="https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white" alt="MongoDB">
  <img src="https://img.shields.io/badge/Redis-DC382D?style=for-the-badge&logo=redis&logoColor=white" alt="Redis">
  <img src="https://img.shields.io/badge/Nginx-009639?style=for-the-badge&logo=nginx&logoColor=white" alt="Nginx">
</div>

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

-   [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
-   [–ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞](#–∑–∞–ø—É—Å–∫-–ø—Ä–æ–µ–∫—Ç–∞)
-   [–î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º](#–¥–æ—Å—Ç—É–ø-–∫-—Å–µ—Ä–≤–∏—Å–∞–º)
-   [–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤](#–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ-–Ω–æ–≤—ã—Ö-–º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤)
-   [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)
-   [–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å](#–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
-   [–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
-   [–ü–æ–¥–¥–µ—Ä–∂–∫–∞](#–ø–æ–¥–¥–µ—Ä–∂–∫–∞)

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

–ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É, —Å–æ—Å—Ç–æ—è—â—É—é –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –æ–±—ä–µ–¥–∏–Ω–µ–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é Docker Compose.

### üîê SSO Service (kubercode-sso)

<div align="center">
  <img src="https://img.shields.io/badge/–ü–æ—Ä—Ç-1488-blue" alt="Port">
  <img src="https://img.shields.io/badge/–°—Ç–∞—Ç—É—Å-–ê–∫—Ç–∏–≤–Ω—ã–π-green" alt="Status">
</div>

-   **–û–ø–∏—Å–∞–Ω–∏–µ**: –°–µ—Ä–≤–∏—Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
-   **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: MongoDB, Redis
-   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
    -   ‚úÖ –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    -   ‚úÖ –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è (JWT)
    -   ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏
    -   ‚úÖ –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã
    -   ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤

### üåê Nginx (kubercode-nginx)

<div align="center">
  <img src="https://img.shields.io/badge/–ü–æ—Ä—Ç-8080-blue" alt="Port">
  <img src="https://img.shields.io/badge/–°—Ç–∞—Ç—É—Å-–ê–∫—Ç–∏–≤–Ω—ã–π-green" alt="Status">
</div>

-   **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
-   **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `nginx/nginx.conf`
-   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
    -   üîÑ –ë–∞–ª–∞–Ω—Å–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏
    -   üõ£Ô∏è –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
    -   üîí SSL/TLS —Ç–µ—Ä–º–∏–Ω–∞—Ü–∏—è

### üóÑÔ∏è MongoDB (kubercode-mongodb)

<div align="center">
  <img src="https://img.shields.io/badge/–ü–æ—Ä—Ç-27017-blue" alt="Port">
  <img src="https://img.shields.io/badge/–°—Ç–∞—Ç—É—Å-–ê–∫—Ç–∏–≤–Ω—ã–π-green" alt="Status">
</div>

-   **–û–ø–∏—Å–∞–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
-   **–î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:
    ```yaml
    username: user
    password: password
    uri: mongodb://user:password@mongodb:27017
    ```
-   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
    -   üíæ –•—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
    -   üîê –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
    -   üìä –•—Ä–∞–Ω–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö

### üî• Redis (kubercode-redis)

<div align="center">
  <img src="https://img.shields.io/badge/–ü–æ—Ä—Ç-6379-blue" alt="Port">
  <img src="https://img.shields.io/badge/–°—Ç–∞—Ç—É—Å-–ê–∫—Ç–∏–≤–Ω—ã–π-green" alt="Status">
</div>

-   **–û–ø–∏—Å–∞–Ω–∏–µ**: –ö—ç—à-—Å–µ—Ä–≤–µ—Ä
-   **–î–∞–Ω–Ω—ã–µ –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è**:
    ```yaml
    password: my-password
    port: 6379
    databases: 16
    ```
-   **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª**:
    -   ‚ö° –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    -   üîÑ –•—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
    -   üîí –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### üìã –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

-   üê≥ Docker
-   üéµ Docker Compose

### üìù –®–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

    ```bash
    git clone <repository-url>
    cd kubercode-compose
    ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç:

    ```bash
    docker-compose up --build
    ```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:
    ```bash
    docker-compose ps
    ```

## üîó –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

| –°–µ—Ä–≤–∏—Å      | URL                       |
| ----------- | ------------------------- |
| SSO Service | http://localhost:1488     |
| Nginx       | http://localhost:8080     |
| MongoDB     | mongodb://localhost:27017 |
| Redis       | redis://localhost:6379    |

## ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞:

1. –°–æ–∑–¥–∞–π—Ç–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –¥–ª—è —Å–µ—Ä–≤–∏—Å–∞
2. –°–æ–∑–¥–∞–π—Ç–µ Dockerfile
3. –î–æ–±–∞–≤—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `docker-compose.yml`:
    ```yaml
    new-service:
        container_name: kubercode-new-service
        networks:
            - app_network
        build:
            context: ./new-service
            dockerfile: Dockerfile
        ports:
            - "PORT:PORT"
        environment:
            - ENV_VAR1=value1
            - ENV_VAR2=value2
        depends_on:
            - kubercode-sso
            - mongodb
            - redis
    ```
4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose logs -f [service-name]

# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –ª–æ–≥–æ–≤
docker-compose logs -f
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

<div align="center">
  <img src="https://img.shields.io/badge/–°–µ—Ç—å-–ò–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–∞—è-blue" alt="Network">
  <img src="https://img.shields.io/badge/–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è-JWT-green" alt="Auth">
</div>

-   üîí –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –≤ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å–µ—Ç–∏ `app_network`
-   üîë MongoDB –∏ Redis –∑–∞—â–∏—â–µ–Ω—ã –ø–∞—Ä–æ–ª—è–º–∏
-   üé´ JWT —Ç–æ–∫–µ–Ω—ã –ø–æ–¥–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Å–µ–∫—Ä–µ—Ç–Ω—ã–º –∫–ª—é—á–æ–º
-   üõ°Ô∏è Nginx –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

## üíª –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

1. –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:

    ```bash
    cd sso  # –∏–ª–∏ –¥—Ä—É–≥–æ–π —Å–µ—Ä–≤–∏—Å
    # –≤–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
    docker-compose up --build kubercode-sso
    ```

2. –î–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞:
    ```bash
    docker-compose restart kubercode-sso
    ```

### üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
docker-compose logs -f [service-name]

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 100 —Å—Ç—Ä–æ–∫ –ª–æ–≥–æ–≤
docker-compose logs --tail=100 [service-name]
```

## ‚ùì –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:

1. üîç –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
2. üîå –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∑–∞–ø—É—â–µ–Ω—ã
3. üåê –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é —Å–µ—Ç–∏
4. üîå –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø–æ—Ä—Ç–æ–≤

<div align="center">
  <sub>Built with ‚ù§Ô∏è by Kubercode Team</sub>
</div>
